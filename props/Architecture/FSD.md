**FSD** - `Модульная` архитектура `на стероидах`. Привязка конкретно к бизнес сущностным.

Иерархия аналогична модульной, только `вышележащие` слои `могут использовать нижележащие`. И `никто` не может использовать `элементы своего уровня`.

- `Чем ниже` расположен модуль, `тем опаснее` в него `вносить изменения`. 
Тк `shared` может использоваться во всех вышестоящих иерархиях

![[Pasted image 20240313034622.png]]
**Слои (7):**
- **shared** — Переиспользуемый код, не имеющий отношения к специфике приложения. (`UI, libs, API`)
- **entities** (сущности, опциональный) — Бизнес-сущности. 
  (`User, Product, Order`)
- **features** (фичи, опциональный) — Взаимодействие с пользователем, действия, которые несут бизнес-ценность для пользователя. 
  (`SendComment, AddToCart, UsersSearch`)
- **widgets** (виджеты) — композиционный слой для соединения **сущностей** и **фич** в самостоятельные блоки. Максимально самостоятельный компонент.
  (`Header, Navbar, Footer`)
- **pages** (страницы) — композиционный слой для сборки полноценных страниц из **сущностей**, **фич** и **виджетов**.
- **processes** (процессы, устаревший слой, опциональный) — сложные сценарии, покрывающие несколько страниц.
- **app** — настройки, стили, роутинг и провайдеры для всего приложения.

**Слайсы (Модули):** 
Разделяют `код по предметной области`. Они группируют логически связанные модули, что облегчает навигацию по кодовой базе. 

**Сегменты:**
В свою очередь, каждый слайс состоит из **сегментов**. Это маленькие модули, главная задача которых — `разделить код внутри слайса по техническому назначению`.
- `UI`
- `Model` – взаимодействие со стейтом, селекторы, экшены
- `Lib` – вспомогательные функции
- `Config` – редкий, конфигурация модуля
- `Api` – запросы на сервер, которые требуются для данного модуля
- `Consts` – константы, которые нужны в данном модуле

В большинстве случаев `рекомендуется располагать api и config только в shared-слое`

**Рассмотрим пример приложения социальной сети.**

- **app/** содержит настройку роутера, глобальные хранилища и стили.
- **pages/** содержит компоненты роутов на каждую страницу в приложении, преимущественно композирующие, по возможности, без собственной логики.

В рамках этого приложения рассмотрим карточку поста в ленте новостей.

- **widgets/** содержит "собранную" карточку поста, с содержимым и интерактивными кнопками, в которые вшиты запросы к бэкенду.
- **features/** содержит всю интерактивность карточки (кнопку лайка) и логику обработки этой интерактивности.
- **entities/** содержит скелет карточки со слотами под интерактивные элементы. Компонент, демонстрирующий автора поста, также находится в этой папке, но в другом слайсе.

![[Pasted image 20240313032423.png]]
